# Optional override: mount Hugging Face token from file (./secrets/hf_token).
# Use: docker compose -f docker-compose.yml -f docker-compose.secrets.yml up
# Create the file first: make secrets-hf (or echo -n 'YOUR_TOKEN' > secrets/hf_token && chmod 600 secrets/hf_token)

secrets:
  hf_token:
    file: ./secrets/hf_token

services:
  transcriptx:
    secrets:
      - hf_token
    environment:
      - TRANSCRIPTX_HUGGINGFACE_TOKEN_FILE=/run/secrets/hf_token

  transcriptx-web:
    secrets:
      - hf_token
    environment:
      - TRANSCRIPTX_HUGGINGFACE_TOKEN_FILE=/run/secrets/hf_token
